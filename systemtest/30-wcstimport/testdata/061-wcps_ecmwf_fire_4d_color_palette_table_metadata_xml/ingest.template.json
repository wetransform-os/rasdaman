{
  "config": {
	"service_url": "PETASCOPE_URL",
        "tmp_directory": "/tmp/",
    "mock": false,
    "automated": true,
    "track_files": false,
    "subset_correction": false
  },
  "input": {
    "coverage_id": "test_ecmwf_fire_4d_color_palette_table_metadata_xml",
    "paths": [
      "*.nc"
    ]
  },
  "recipe": {
    "name": "general_coverage",
    "options": {
        "coverage": {
          "crs": "OGC/0/AnsiDate@OGC/0/Index1D?axis-label=\"forecast\"@EPSG/0/4326",
          "metadata": {
            "type": "xml",
            "global": {
              "Title": "'Drought code'"
         	  },
             "colorPaletteTable": "color_palette_table.cpt"
          },
          "slicer": {
            "type": "netcdf",
	    "pixelIsPoint": true,
            "bands": [
              {
                "name": "Drought_code",
                "variable": "dc",
                "description": "Global Fire Forecast (GEFF) - Drought Code",
                "nilReason": "The nil value represents no data value",
                "nilValue": "-9999",
                "identifier": "dc"
              }
            ],
            "axes": {
              "ansi": {
                "min": "datetime(regex_extract('${file:name}', '(.*)_(.*)_ecfire_fwi_dc', 1), 'YYYYMMDD')",
                "max": "datetime(regex_extract('${file:name}', '(.*)_(.*)_ecfire_fwi_dc', 1), 'YYYYMMDD')",
  	          "resolution": "1",
                "type": "ansidate",
                "irregular": true
              },
              "Long": {
                "min": "${netcdf:variable:lon:min}",
                "max": "${netcdf:variable:lon:max}",
                "resolution": "${netcdf:variable:lon:resolution}"
              },
              "Lat": {
                "min": "${netcdf:variable:lat:min}",
                "max": "${netcdf:variable:lat:max}",
                "resolution": "${netcdf:variable:lat:resolution}"
              }, 
              "forecast": {
                "min": "int(regex_extract('${file:name}', '(.*)_(.*)_ecfire_fwi_dc', 2))",
   	        "dataBound": false,
                "resolution": 1,
                "irregular": true
              }
          }
        }      
      },
      "tiling": "ALIGNED [0:366, 0:500, 0:500, 0:10]"
    }
  }
}
