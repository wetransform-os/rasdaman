{
    "id": "filter_bbox",
    "summary": "Spatial filter using a bounding box",
    "description": "Limits the data cube to the specified bounding box. The filter retains a pixel in the data cube if the point at the pixel center\nintersects with the bounding box (as defined in the Simple Features standard by the OGC). Alternatively, ``filter_spatial()`` can be used to filter by geometry.",
    "parameters": [
        {
            "name": "x",
            "description": "A data cube.",
            "schema": [
                {
                    "type": [
                        "boolean",
                        "number",
                        "null"
                    ]
                },
                {
                    "type": "object",
                    "subtype": "datacube"
                }
            ]
        },
        {
            "name": "extent",
            "description": "A bounding box, which may include a vertical axis (see `base` and `height`).",
            "schema": {
                "type": "object",
                "subtype": "bounding-box",
                "required": [
                    "west",
                    "south",
                    "east",
                    "north"
                ],
                "properties": {
                    "west": {
                        "description": "West (lower left corner, coordinate axis 1).",
                        "type": "number"
                    },
                    "south": {
                        "description": "South (lower left corner, coordinate axis 2).",
                        "type": "number"
                    },
                    "east": {
                        "description": "East (upper right corner, coordinate axis 1).",
                        "type": "number"
                    },
                    "north": {
                        "description": "North (upper right corner, coordinate axis 2).",
                        "type": "number"
                    },
                    "base": {
                        "description": "Base (optional, lower left corner, coordinate axis 3).",
                        "type": [
                            "number",
                            "null"
                        ],
                        "default": null
                    },
                    "height": {
                        "description": "Height (optional, upper right corner, coordinate axis 3).",
                        "type": [
                            "number",
                            "null"
                        ],
                        "default": null
                    },
                    "crs": {
                        "description": "Coordinate reference system of the extent, specified as an [EPSG code](http://www.epsg-registry.org/). Defaults to `4326` (EPSG code 4326) unless the client explicitly requests a different coordinate reference system.",
                        "title": "EPSG Code",
                        "type": "integer",
                        "subtype": "epsg-code",
                        "minimum": 1000,
                        "examples": [
                            3857
                        ],
                        "default": 4326
                    }
                }
            }
        }
    ],
    "returns": {
        "description": "A data cube restricted to the bounding box. The dimensions and dimension properties (name, type, labels, reference system and resolution) remain unchanged, except that the spatial dimensions have less (or the same) dimension labels.",
        "schema": {
            "title": "Raster data cube",
            "type": "object",
            "subtype": "datacube",
            "dimensions": [
                {
                    "type": "spatial",
                    "axis": [
                        "x",
                        "y"
                    ]
                }
            ]
        }
    },
    "examples": [],
    "links": [],
    "wcps": "<x>[x:\"EPSG:<extent.crs>\"(<extent.west>:<extent.east),y:\"EPSG:<extent.crs>\"(<extent.south>:<extent.north)<if(extent.base)>, <baseAxis>(<extent.base>:<extent.height>)<endif>]",
    "categories": [
        "Subsetting"
    ]
}